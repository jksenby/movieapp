"use strict";(self.webpackChunkmovieapp=self.webpackChunkmovieapp||[]).push([[999],{999:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(439),a=t(791),i=t(433),s=t(230),c=t(288),o=t(360),u=t(594),l=t(87),d=t(184),h=function(e){var n=e.handleChange,t=e.handleVideo,h=e.search,f=(0,a.useState)([]),v=(0,r.Z)(f,2),p=v[0],g=v[1],m=(0,a.useState)(2),x=(0,r.Z)(m,2),Z=x[0],j=x[1],w=(0,a.useState)(!1),y=(0,r.Z)(w,2),b=y[0],k=y[1],C=(0,s.Z)().getAllMovies;(0,a.useEffect)((function(){C().then((function(e){g(e),k(!1)})),k(!0)}),[]);var I=function(e){j((function(e){return e+1})),g((function(n){return[].concat((0,i.Z)(n),(0,i.Z)(e))})),k(!1)};var S=function(e){var r=e.map((function(e,r){return(0,d.jsx)("li",{tabIndex:0,onClick:function(){n(e.id)},children:(0,d.jsxs)(u.Z,{style:{width:"12rem",margin:"50px"},children:[(0,d.jsx)(u.Z.Img,{variant:"top",alt:e.name,src:"http://image.tmdb.org/t/p/w500".concat(e.thumb)}),(0,d.jsxs)(u.Z.Body,{children:[(0,d.jsx)(u.Z.Title,{children:e.title}),(0,d.jsxs)(u.Z.Text,{children:[e.overview.slice(0,100),e.overview.length>30?"...":null]}),(0,d.jsx)(l.rU,{to:"/".concat(e.id,"/videos"),children:(0,d.jsx)(o.Z,{variant:"outline-primary",onClick:function(){return t(e.id)},children:"Watch"})})," ","| ",e.rating,"/10"]})]})},e.id)}));return(0,d.jsx)("ul",{style:{display:"-ms-grid"},children:r})}(p.filter((function(e,n){if(e.title.toLowerCase().includes(h.toLowerCase()))return e}))),T=b?(0,d.jsx)(c.Z,{}):null;return(0,d.jsxs)("div",{className:"list",children:[S,T,(0,d.jsxs)(o.Z,{variant:"dark",style:{display:"block"},onClick:function(){C("&page=".concat(Z)).then(I),k(!0)},children:["Load more..."," "]})]})},f=t(58),v=function(e){var n=e.movieInfo,t=e.getGenres;return(0,d.jsx)("div",{className:"body",children:(0,d.jsxs)(u.Z,{style:{width:"100%",margin:0},children:[(0,d.jsx)(u.Z.Img,{variant:"top",src:"http://image.tmdb.org/t/p/w500".concat(n.thumb)}),(0,d.jsxs)(u.Z.Body,{children:[(0,d.jsx)(u.Z.Title,{children:n.title}),(0,d.jsx)(u.Z.Text,{children:n.overview})]}),(0,d.jsx)(f.Z,{className:"list-group-flush",style:{marginTop:"auto",marginBottom:"auto",paddingLeft:0},children:t(n)}),(0,d.jsx)(u.Z.Body,{children:(0,d.jsx)("div",{className:"d-grid gap-2",children:(0,d.jsx)(o.Z,{variant:"primary",size:"lg",children:"Watch the Movie"})})})]})})},p=function(e){var n=e.movieId,t=(0,a.useState)([]),i=(0,r.Z)(t,2),u=i[0],l=i[1],h=(0,s.Z)().getMovie,f=(0,a.useState)(!0),p=(0,r.Z)(f,2),g=p[0],m=p[1];(0,a.useEffect)((function(){h(n).then((function(e){l(e),m(!1)})),m(!0)}),[n]);var x=g?(0,d.jsx)(c.Z,{}):null,Z=g?null:(0,d.jsx)(v,{movieInfo:u,getGenres:function(e){if("object"===typeof e.genres){var n=e.genres.map((function(e,n){return(0,d.jsxs)("li",{tabIndex:0,className:"genres",children:[(0,d.jsxs)(o.Z,{variant:"danger",children:[e.name," "]})," "]},e.id)}));return(0,d.jsx)("ul",{style:{display:"-ms-grid",margin:0},children:n})}}});return(0,d.jsxs)(d.Fragment,{children:[x," ",Z]})},g=function(e){var n=e.handleVideo,t=e.search,i=(0,a.useState)(null),s=(0,r.Z)(i,2),c=s[0],o=s[1],u=c?(0,d.jsx)(p,{movieId:c}):null;return(0,d.jsxs)("div",{children:[(0,d.jsx)(h,{handleChange:function(e){o(e)},handleVideo:n,search:t}),u]})}},230:function(e,n,t){var r=t(165),a=t(861);n.Z=function(){var e={method:"GET",headers:{accept:"application/json"}},n=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){var i,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i="".concat("https://api.themoviedb.org/3/movie/").concat(t,"?").concat("api_key=85569a59f98486c20457b4d061f63224").concat(a),n.next=4,fetch(i,e);case 4:if((s=n.sent).ok){n.next=7;break}throw new Error("Could not fetch ".concat(i,", status: ").concat(s.status));case 7:return n.next=9,s.json();case 9:return n.abrupt("return",n.sent);case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}(),t=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"&page=1",e.next=3,n("popular",t);case 3:return a=e.sent,e.abrupt("return",a.results.map(s));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,"");case 2:return a=e.sent,e.abrupt("return",s(a));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(e){return{id:e.id,title:e.title,overview:e.overview,release_date:e.release_date,rating:e.vote_average,language:e.original_language,thumb:e.poster_path,genres:e.genres}};return{getAllMovies:t,getMovie:i}}}}]);
//# sourceMappingURL=999.fea88f74.chunk.js.map